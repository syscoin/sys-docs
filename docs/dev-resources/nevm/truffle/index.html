<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Syscoin Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Syscoin Docs Blog Atom Feed"><title data-react-helmet="true">Deploying Smart Contracts with Truffle | Syscoin Docs</title><meta data-react-helmet="true" property="og:url" content="https://Syscoin.github.io/sys-docs/docs/dev-resources/nevm/truffle"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Deploying Smart Contracts with Truffle | Syscoin Docs"><meta data-react-helmet="true" name="description" content="This is a guide to creating and deploying smart contracts with Truffle on the Syscoin Tanenbaum Testnet."><meta data-react-helmet="true" property="og:description" content="This is a guide to creating and deploying smart contracts with Truffle on the Syscoin Tanenbaum Testnet."><link data-react-helmet="true" rel="shortcut icon" href="/img/sys-logo.svg"><link data-react-helmet="true" rel="canonical" href="https://Syscoin.github.io/sys-docs/docs/dev-resources/nevm/truffle"><link data-react-helmet="true" rel="alternate" href="https://Syscoin.github.io/sys-docs/docs/dev-resources/nevm/truffle" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Syscoin.github.io/sys-docs/docs/dev-resources/nevm/truffle" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8f3499ac.css">
<link rel="preload" href="/assets/js/runtime~main.a5e36b06.js" as="script">
<link rel="preload" href="/assets/js/main.7455a20f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_I6BC">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.syscoin.org/docs/intro/syscoin-what/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_luYh themedImage--light_EyG8 navbar__logo"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_luYh themedImage--dark_DyD2 navbar__logo"><strong class="navbar__title">Syscoin Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_fYwJ react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_uz7x">ðŸ”†</span></div><div class="react-toggle-track-x"><span class="toggle_uz7x">ðŸŒ™</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://docs.syscoin.org/docs/intro/syscoin-what/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_luYh themedImage--light_EyG8 navbar__logo"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_luYh themedImage--dark_DyD2 navbar__logo"><strong class="navbar__title">Syscoin Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_CDoJ"><div class="docSidebarContainer_CP-e" role="complementary"><div class="sidebar_u+ce"><div class="menu menu--responsive thin-scrollbar menu_C8Yo"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_MgV3" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/syscoin-what">About Syscoin</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Technical Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/bitcoin-tech">Bitcoin Technology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/finality">Finality</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/merged-mining">Merged Mining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/nevm">NEVM Chain (EVM)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/notary">Notary and Business Rulesets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/poda">PoDA (Data Availability on Layer 1)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/rollux">Rollux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/sentrynodes">Sentry Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/tokens">Syscoin Platform Tokens (SPTs)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/z-dag">Z-DAG (UTXO)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">NEVM Chain (EVM)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/communities">Communities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/docs-and-libs">Documentation &amp; Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/guides-and-tuts">Courses, Guides &amp; Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/tooling">Tooling</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dev-resources/nevm/truffle">Deploying Smart Contracts with Truffle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/nevm/zk-rollups">Rollups</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Native Chain (UTXO)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/sys/asset-index">SPT Asset Index Technical Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/sys/exchange-integration">SPT Exchange Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/sys/testnet">Testnet Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/sys/testnet_sentrynode">Testnet Sentry Node Setup Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/sys/z-dag">Z-DAG Developer Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Documentation</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">JS SDK Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/syscoinjs">Syscoinjs-lib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/utils">Utils</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/hdsigner">HDSigner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/trezorsigner">TrezorSigner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/types">Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/blockbook">Blockbook API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/examples">Examples</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/tsys">SYS/TSYS Faucets</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NEVM Chain (EVM)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/nevm/metamask">Add to MetaMask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/nevm/sysgeth">Syscoin Geth (sysgeth)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rollux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/rollux/metamask">Add to MetaMask or install Pali Wallet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Syscoin Platform Tokens (SPTs)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/aux-fees">Auxiliary Fees</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/create-issue-tokens">Create/Issue Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/notary-business-rulesets">Notary and Business Rulesets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/use-tokens">Use Syscoin 4.2 Tokens</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/sentrynode_setup">Sentry Node Setup Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/mining_setup">Merged Mining Setup Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/governance">Decentralized Governance</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">FAQ</a></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_AC07"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_pb3g"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_u1QW"><div class="container padding-vert--lg docItemWrapper_jlfI"><div class="row"><div class="col docItemCol_BrhR"><div class="docItemContainer_afra"><article><header><h1 class="docTitle_cYrZ">Deploying Smart Contracts with Truffle</h1></header><div class="markdown"><p>This is a guide to creating and deploying smart contracts with Truffle on the Syscoin Tanenbaum Testnet.</p><p><em>NOTE: Syscoin is designed to be a settlement layer for zkRollups and other L2s/execution layers, as such it has a 2.5 minute block time for the optimal settlement security, it is advised to create dApps using zkRollups rather than using the Syscoin blockchain itself for executing smart contracts. You can find zkRollup resources <a href="/docs/dev-resources/nevm/zk-rollups">here</a>.</em></p><p>This guide assumes that you have already:</p><ul><li><p>Installed <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" target="_blank" rel="noopener noreferrer">npm</a> on your system</p></li><li><p>Imported the <a href="/docs/guides/nevm/metamask">Tanenbaum Testnet (or Mainnet) network into MetaMask</a></p></li><li><p>Requested gas from either the <a href="/docs/dev-resources/tsys">Tanenbaum faucet or Mainnet faucet</a></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_nELn" id="1-install-truffle-and-create-a-project"></a>1. Install Truffle and create a project<a class="hash-link" href="#1-install-truffle-and-create-a-project" title="Direct link to heading">#</a></h2><p>To install Truffle use the following command:</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install truffle -g</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>Make a new directory where you wish to create your project then <code>cd</code> into it and run the command below:</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">truffle init</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>Then enter this command to install support for HD wallet providers:</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install @truffle/hdwallet-provider -s</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_nELn" id="2-create-a-new-contract"></a>2. Create a new contract<a class="hash-link" href="#2-create-a-new-contract" title="Direct link to heading">#</a></h2><p>Create a new file in the <code>contracts</code> directory called <code>HelloNEVM.sol</code>.</p><p>Paste the following code into the <code>HelloNEVM.sol</code> file.</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pragma solidity ^0.8.10;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">contract HelloNEVM {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    function sayHello() public pure returns(string memory) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return(&#x27;Hello NEVM!&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_nELn" id="3-configure-the-network-used-by-truffle"></a>3. Configure the network used by Truffle<a class="hash-link" href="#3-configure-the-network-used-by-truffle" title="Direct link to heading">#</a></h2><p>In <code>truffle-config.js</code> in the <code>networks:{}</code> section, add the following:</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw js"><div tabindex="0" class="prism-code language-js codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token literal-property property">mainnet</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">provider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HDWalletProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mnemonic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://rpc.syscoin.org&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">websocket</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enable EventEmitter interface for web3 (default: false)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">network_id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">gas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8000000</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gas should be no higher than 8m</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token literal-property property">tanenbaum</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">provider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">HDWalletProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">mnemonic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://rpc.tanenbaum.io/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">websocket</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enable EventEmitter interface for web3 (default: false)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">network_id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5700</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">gas</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8000000</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// gas should be no higher than 8m</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>Then create a new file in the same directory called <code>.secret	</code> and store your mnemonic from MetaMask in there and uncomment the line in <code>truffle-config.js</code> where <code>mnemonic</code> is initialized. Don&#x27;t forget to add an entry in <code>.gitignore</code> for the <code>.secret</code> file.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_nELn" id="4-deploy-the-contract"></a>4. Deploy the contract<a class="hash-link" href="#4-deploy-the-contract" title="Direct link to heading">#</a></h2><p>In the <code>migrations</code> folder create a JavaScript file named <code>2_deploy_contracts.js</code> for deploying the contract.</p><p>Paste the following code into the file.</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw js"><div tabindex="0" class="prism-code language-js codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token maybe-class-name">HelloNEVM</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> artifacts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;HelloNEVM&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">deployer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    deployer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">HelloNEVM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Hello NEVM!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Additional contracts can be deployed here</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>Once this has been done then you can then deploy the contract (use <code>mainnet</code> if you want to deploy on mainnet rather than the Tanenbaum testnet).</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">truffle deploy --network tanenbaum</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>You will then receive something similar to the following output showing that the contracts have been successfully deployed.</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Compiling your contracts...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">===========================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Compiling ./contracts/HelloNEVM.sol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Compiling ./contracts/Migrations.sol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Compilation warnings encountered:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing &quot;SPDX-License-Identifier: &lt;SPDX-License&gt;&quot; to each source file. Use &quot;SPDX-License-Identifier: UNLICENSED&quot; for non-open-source code. Please see https://spdx.org for more information.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--&gt; project:/contracts/HelloNEVM.sol</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Artifacts written to /home/nevm/Desktop/truffle/build/contracts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Compiled successfully using:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   - solc: 0.8.10+commit.fc410830.Emscripten.clang</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Starting migrations...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Network name:    &#x27;tanenbaum&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Network id:      5700</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Block gas limit: 8000000 (0x7a1200)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1_initial_migration.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">======================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Deploying &#x27;Migrations&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ----------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; transaction hash:    0xb47d5c5615574d924c993b8950f12790b3bc5c80057a5a277c62970fd12b27b1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Blocks: 2            Seconds: 57</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; contract address:    0xbcB2F470C038bB1C46D37b1d83B583637f4E6Fa7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; block number:        35173</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; block timestamp:     1638216695</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; account:             0x747825653574060c4AdA31c028cfCb81E1C6C9a4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; balance:             2.494746334985289738</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; gas used:            250154 (0x3d12a)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; gas price:           2.500000007 gwei</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; value sent:          0 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; total cost:          0.000625385001751078 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Saving migration to chain.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Saving artifacts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   -------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Total cost:     0.000625385001751078 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2_deploy_contracts.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=====================</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Deploying &#x27;HelloNEVM&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ---------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; transaction hash:    0xa552bbf6dea81da9f6bb89d4195b238f672cf76064cb3649665fbeb99676aecd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Blocks: 1            Seconds: 37</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; contract address:    0x2ad52f0832Edd1169bB2234A9C931E0C95c892be</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; block number:        35178</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; block timestamp:     1638216962</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; account:             0x747825653574060c4AdA31c028cfCb81E1C6C9a4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; balance:             2.494293884984022878</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; gas used:            135067 (0x20f9b)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; gas price:           2.500000007 gwei</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; value sent:          0 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; total cost:          0.000337667500945469 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Saving migration to chain.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Saving artifacts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   -------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &gt; Total cost:     0.000337667500945469 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Summary</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=======</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Total deployments:   2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; Final cost:          0.000963052502696547 ETH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>Congratulations! Your contracts have been deployed and in the <code>Deploying &#x27;HelloNEVM&#x27;</code> section you can see the contract&#x27;s address, which is worth saving if you wish to interact with it at a later date.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_nELn" id="5-interact-with-the-smart-contract"></a>5. Interact with the smart contract<a class="hash-link" href="#5-interact-with-the-smart-contract" title="Direct link to heading">#</a></h2><p><code>cd</code> to the root of your project directory then use this command to use Truffle on the Tanenbaum network (as specified in the <code>truffle-config.js</code>)</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">truffle console --network tanenbaum</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div><p>You can then call the <code>sayHello()</code> function with the following input:</p><div class="codeBlockContainer_LQMw"><div class="codeBlockContent_wcIw"><div tabindex="0" class="prism-code language-undefined codeBlock_9A7P thin-scrollbar"><div class="codeBlockLines_W7Wm" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HelloNEVM.deployed().then(function(instance){return instance.sayHello()});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_mUyv">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dev-resources/nevm/tooling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Tooling</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dev-resources/nevm/zk-rollups"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rollups Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_xNB5 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-install-truffle-and-create-a-project" class="table-of-contents__link">1. Install Truffle and create a project</a></li><li><a href="#2-create-a-new-contract" class="table-of-contents__link">2. Create a new contract</a></li><li><a href="#3-configure-the-network-used-by-truffle" class="table-of-contents__link">3. Configure the network used by Truffle</a></li><li><a href="#4-deploy-the-contract" class="table-of-contents__link">4. Deploy the contract</a></li><li><a href="#5-interact-with-the-smart-contract" class="table-of-contents__link">5. Interact with the smart contract</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/dev-resources/documentation/javascript-sdk-ref/syscoinjs">JS SDK Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Syscoin. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a5e36b06.js"></script>
<script src="/assets/js/main.7455a20f.js"></script>
</body>
</html>