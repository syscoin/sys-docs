<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Syscoin Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Syscoin Docs Blog Atom Feed"><title data-react-helmet="true">SPT Asset Index Technical Description | Syscoin Docs</title><meta data-react-helmet="true" property="og:url" content="https://Syscoin.github.io/sys-docs//docs/dev-resources/sys/asset-index"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="SPT Asset Index Technical Description | Syscoin Docs"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><link data-react-helmet="true" rel="shortcut icon" href="/img/sys-logo.svg"><link data-react-helmet="true" rel="canonical" href="https://Syscoin.github.io/sys-docs//docs/dev-resources/sys/asset-index"><link data-react-helmet="true" rel="alternate" href="https://Syscoin.github.io/sys-docs//docs/dev-resources/sys/asset-index" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Syscoin.github.io/sys-docs//docs/dev-resources/sys/asset-index" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7cdfb468.css">
<link rel="preload" href="/assets/js/runtime~main.796e388b.js" as="script">
<link rel="preload" href="/assets/js/main.c7f5ff4e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Syscoin Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸ”†</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒ™</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/sys-logo.svg" alt="Syscoin Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Syscoin Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/syscoin-what">About Syscoin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/syscoin-roadmap">Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Technical Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/bitcoin-tech">Bitcoin Technology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/chainlocks">ChainLocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/masternodes">Masternodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/merged-mining">Merged-Mining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/nevm">NEVM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/notary">Notary and Business Rulesets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/tokens">Syscoin Platform Tokens (SPTs)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tech/z-dag">Z-DAG</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Developer Resources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">NEVM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/communities">Communities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/docs-and-libs">Documentation &amp; Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/guides-and-tuts">Courses, Guides &amp; Tutorials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/tooling">Tooling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/truffle">Deploying Smart Contracts with Truffle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/nevm/zk-rollups">ZK-Rollups</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">SYS</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dev-resources/sys/asset-index">SPT Asset Index Technical Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/sys/exchange-integration">SPT Exchange Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/sys/testnet">Testnet Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/sys/testnet_mn">Testnet Masternode Setup Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/sys/z-dag">Z-DAG Developer Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Documentation</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">JS SDK Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/syscoinjs">Syscoinjs-lib</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/utils">Utils</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/hdsigner">HDSigner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/trezorsigner">TrezorSigner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/types">Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/blockbook">Blockbook API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-resources/documentation/javascript-sdk-ref/examples">Examples</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev-resources/tsys">SYS/TSYS Faucets</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NEVM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/nevm/metamask">Add to MetaMask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/nevm/sysgeth">Syscoin Geth (sysgeth)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Syscoin Platform Tokens (SPTs)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/aux-fees">Auxiliary Fees</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/create-issue-tokens">Create/Issue Tokens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/notary-business-rulesets">Notary and Business Rulesets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/spts/use-tokens">Use Syscoin 4.2 Tokens</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/mn_setup">Masternode Setup Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">FAQ</a></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">SPT Asset Index Technical Description</h1></header><div class="markdown"><p><strong>Introduction</strong></p><p>Asset index is a high performance blockchain re-organization aware flag that allows users to be able to query historical information related to Syscoin Assets.</p><p>The asset index was created as a way for exchanges and other services to be able to manage Syscoin assets via viewing transactional history without requiring third party tools. This index is useful for viewing information only. The current set of RPCs to create transactions for managing assets are created in a way that are not dependent on a wallet and thus are compatible with signing tools such as hardware wallets. This is a reference implementation and of course third party tools in some contexts make sense. However as a fallback we created a reference implementation for those requiring all information to be available from within Syscoin Core itself without the need for custom modifications. You do not need to enable txindex and it is pruning compatible. There are two RPCs exposed for the use of asset index.</p><ol><li>listassetindex - This will let you filter all assets + asset allocations via an asset GUID and/or an address. You can leave the address field empty to scan through the entire asset.</li><li>listassetindexassets - Takes in an address and returns any asset GUIDs that are owned by the address as allocations.</li></ol><p>There are two configuration variables to use when dealing with an asset index. -assetindex and -blockindex. Blockindex allows once to view the block related to an asset transaction. It is re-org aware. This means that every transaction is associated with a blockhash and on a disconnect of a block the blockindex is updated to remove the blockhash associated with the disconnected transactions in the block(s) rolled back. The blockhash is output in the <code>listassetindex</code> command as the block_hash field. This makes the assetindex re-org aware by extension as one would be able to rely on the block_hash field of the returned entries to know if a transaction was confirmed or potentially not part of the longest chain on a node.</p><p>You somtimes do not want to have to index all assets in Syscoin and just want to index the ones you care about and thus there are configurations for those cases you can read about below.</p><p><strong>Use Cases</strong></p><p>The main usecases of using such an index are as follows:</p><p>Use case #1: enter an asset GUID and address and get back a list of transactions (sends/receives) related to that asset/address tuple.</p><p>Use case #2: enter an address and view all assets connected to an address.</p><p>Use case #3: enter an asset GUID and view all transactions (sends/receives/updates) related to an asset.</p><p><strong>Motivation</strong></p><p>We needed high performance to avoid large delays as transactional volume increased. The requirement for this index in the design phase was to have O(1) time complexity and &lt;= O(N) space complexity. We solved this by using a Key-Value storage database and using a tuple of information as Key to reduce lookup complexity yet remain flexible to be able to walk through the historical information with intuition. We require the Key to have a page number to create this efficiency and thus consuming clients would work under a paged view mechanism. The default page size is 25 results per page.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Configuration Parameters (in syscoin.conf or passed into the binary when running Syscoin Core):</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Assetindex - true if we want to index asset history, false to skip. Default is false. Set to true if consuming client is a block explorer, asset wallet, crypto-currency exchange or any other client that needs history of assets.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Assetindexguids - comma seperated list of asset guids to index, empty for all if Assetindex is true.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Assetindexpagesize - if Assetindex is true set this to a page size based on how the consuming client will render results. Default is 10.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Blockindex - true if you want block_hash information for every asset transaction result from listassetindex RPC</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Note that <code>Assetindexpagesize</code> is dynamic and set upon configuration, if changed you need to reindex the blockchain from start.</p><p>Database Structure:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cplusplus"><div tabindex="0" class="prism-code language-cplusplus codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Collection for TXIDs for each allocation, Get/Set - &lt;asset guid&gt;&lt;address&gt;&lt;page number&gt; = vector&lt;txid&gt; (size of vector is based on page size);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Current highest page number, Get/Set - &lt;page number&gt; = int;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Collection for JSON outputs for TXID, Get/Set - &lt;txid&gt; = JSON output of transaction;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Assets per address, Get/Set - &lt;address&gt; = vector&lt;asset guid&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">TXIDs of asset update/send/receive, Get/Set - &lt;asset guid&gt; = vector&lt;txid&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// In Memory structure:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Get/Set - Set of TXIDâ€™s (lets call it confirmedTXIDs);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Pseudocode for Connect Block logic:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cplusplus"><div tabindex="0" class="prism-code language-cplusplus codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set TXID to confirmedTXIDs;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Get page number as pageNum;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Get vector&lt;txid&gt; based on &lt;asset guid&gt;&lt;address&gt;&lt;pageNum&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">If vector size if &gt;= 10 increase pageNum and create new vector;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set JSON output of transaction to vector&lt;txid&gt; collection of JSON outputs per TXID;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set vector&lt;txid&gt; based on &lt;asset guid&gt;&lt;address&gt;&lt;pageNum&gt; to TXID collection for asset allocation;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set pageNum to highest page number collection;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Pseudocode for Disconnect Block logic:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cplusplus"><div tabindex="0" class="prism-code language-cplusplus codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">For every transaction:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Remove TXID from confirmedTXIDs;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Pseudocode for listassetindex RPC function:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><div tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/*Scan an asset/address tuple for a page of transaction. Consuming clients should page results based on page size set in configuration to the core. Will return all txâ€™s regardless if they were re-orged or not. A confirmed parameter will indicate if the transaction is part of the blockchain and confirmed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Parameters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Asset guid - asset guid number specific to each asset</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Address - a sender or receiver address that owns an asset. If empty then assume  you want all txâ€™s based on asset.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Page number - return specific page number of transactions. 0 by default*/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">If Address is empty:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Get vector&lt;txid&gt; based on &lt;asset guid&gt;&lt;page number&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Else:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Get vector&lt;txid&gt; based on &lt;asset guid&gt;&lt;address&gt;&lt;page number&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">For each txid in vector:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Get JSON output based on txid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Get blockhash of txid from blockindex (if exist otherwise set to empty);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Add blockhash of txid to JSON output as block_hash;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Return JSON output to caller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Pseudocode for listassetindexassets RPC function:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cplusplus"><div tabindex="0" class="prism-code language-cplusplus codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/*Assets per Address:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Returns all asset guids related to an address at any time in blockchain history.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Parameters:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Address - a sender or receiver address that potentially owns an asset*/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Get vector&lt;asset guid&gt; based on &lt;address&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Return JSON of all assets found to caller;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Q&amp;A</strong></p><p>What does re-org protected mean?
It means that if the blockchain tip is disconnected for whatever reason (longer chain is found) then you have to rollback transactions, we wouldn&#x27;t want our asset view to incorrectly show transactions as confirmed when they have been rolled back.</p><p>What does asset indexing mean?
It means that we need a way to show all transactions related to an asset+address tuple. You need to be able to as a wallet or explorer view pertaining transactions for your asset allocation as a sender or receiver.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dev-resources/nevm/zk-rollups"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« ZK-Rollups</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dev-resources/sys/exchange-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SPT Exchange Integration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/dev-resources/documentation/javascript-sdk-ref/syscoinjs">JS SDK Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/syscoin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Syscoin. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.796e388b.js"></script>
<script src="/assets/js/main.c7f5ff4e.js"></script>
</body>
</html>